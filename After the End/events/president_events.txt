# Presidential elections 2.0
# Written by Sam. Feel free to reuse this code anywhere.
namespace = prez

# President is dead
character_event = {
	id = prez.1
	desc = "DEBUG"
	is_triggered_only = yes
	hide_window = yes
	
	trigger = {
		has_landed_title = c_americanist
	}
	
	immediate = {
	
	}
	
	# Vice Presidency has holder, give it to them
	option = {
		name = "DEBUG"
		trigger = {
			c_americanist_vp = { has_holder = yes }
		}
		c_americanist_vp = { holder_scope = { character_event = { id = pres.2 days = 1 } } }
	}
	
	# No VP, give it to chancellor (Secretary of State)
	option = {
		name = "DEBUG"
		trigger = {
			NOT = { c_americanist_vp = { has_holder = yes } }
			job_chancellor = { always = yes }
		}
		job_chancellor = { character_event = { id = pres.2 days = 1 } }
	}
	
	# Somehow they don't have a VP or a chancellor, just give it to a random eligible courtier
	option = {
		name = "DEBUG"
		trigger = {
			NOT = { c_americanist_vp = { has_holder = yes } }
			NOT = { job_chancellor = { always = yes } }
		}
		random_courtier = { character_event = { id = pres.2 days = 1 } }
	}
}

# VP: Notify of President death
character_event = {
	id = prez.2
	desc = prez.2.desc
	picture = GFX_recieve_letter
	is_triggered_only = yes
	
	immediate = {
		c_americanist = { gain_title = PREV }
		c_americanist_vp = { destroy_landed_title = THIS }
	}
	
	option = {
		name = prez.2.optA
	}
}

################
# 100-200: Events for the President (and VP and First Lady) in power

# Named Vice President
character_event = {
	id = prez.100
	desc = "prez.100.desc"
	picture = GFX_recieve_letter
	is_triggered_only = yes
	
	option = { # Accept
		name = "prez.100.optA"
		ai_chance = {
			factor = 2 # need to expand this a bit
		}
		c_americanist_VP = { gain_title = PREV }
		opinion = { modifier = made_vp who = FROM }
		hidden_tooltip = { FROM = { character_event = { id = prez.101 } } }
	}
	
	option = { # Decline
		ai_chance = {
			factor = 1
		}
		name = "prez.100.optB"
		reverse_opinion = { modifier = refused_vp who = FROM }
		hidden_tooltip = { FROM = { character_event = { id = prez.102 } } }
	}
}

# Accepted VP
character_event = {
	id = prez.101
	desc = "prez.101.desc"
	picture = GFX_recieve_letter
	is_triggered_only = yes
	
	option = {
		name = "prez.101.optA"
	}
}

# Declined VP
character_event = {
	id = prez.102
	desc = "prez.102.desc"
	picture = GFX_recieve_letter
	is_triggered_only = yes
	
	option = {
		name = "prez.102.optA"
	}
}

# Americanist owner of Washington asked to give it up

# President is incapacitated, VP or First Lady can try to seize power