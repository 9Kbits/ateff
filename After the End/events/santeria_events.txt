# Santeria events

namespace = santeria

character_event = {
  #Healing event for Santer√≠a
  id = santeria.1
  desc = EVTDESC_santeria_ill
  picture = GFX_evt_illness
  
  #Fast event triggers
  religion = santeria
  

  trigger = {
    # Only health issues can be treated, excepting some
	AND = {
	health_traits = 1
	NOT = { trait = maimed }
	NOT = { trait = incapable }
	NOT = { trait = infirm }
	NOT = { trait = zombi }
	}
  }
  
  mean_time_to_happen = {
    months = 12
	
	modifier = { # speed up for ill/sickly/wounded/pneumonic
		factor = 0.10
		OR = {
			trait = ill
			trait = sickly
			trait = wounded
			trait = pneumonic
			}
	}
	
	modifier = { # slow down for mental problems
		factor = 3
		OR = {
			trait = lunatic
			trait = depressed
			trait = stressed
			trait = drunkard
		}
	}
	
	modifier = { # greater slowdown for serious diseases
		factor = 7
		OR = {
			trait = syphilitic
			trait = leper
			trait = atom_curse
			trait = possessed
		}
	}
  }
  
  option = {
    name = EVTOPTA_santeria_ill
      # Send for priest  
    ai_chance = {
      factor=1;
    }
    wealth=-10
	hidden_tooltip = { character_event = { id = santeria.2 } }
  }
  
  option = {
    name = EVTOPTB_santeria_ill
	  # Do not send for priest
    ai_chance = {
      factor=1;
    }
	piety = -5
    random= { chance = 5 add_trait = cynical }
  }
}

character_event = {
	#The santero arrives at your chambers
	id = santeria.2
	desc = EVTDESC_santeria_healing
    picture = GFX_evt_illness
	
	is_triggered_only = yes
	
	option = {
	# Chances for ill
		name = EVTOPTA_santeria_healing
		trigger = { trait = ill }
		random_list = { 
		50 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = ill }
		50 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for pneumonic
	trigger = { trait = pneumonic }
		name = EVTOPTA_santeria_healing
		random_list = { 
		20 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = pneumonic }
		80 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	}

	option = {
	# Chances for possessed
	trigger = { trait = possessed }
		name = EVTOPTA_santeria_healing
		random_list = { 
		10 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = possessed }
		90 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for lunatic
	trigger = { trait = lunatic }
		name = EVTOPTA_santeria_healing
		random_list = { 
		10 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = lunatic }
		90 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for depressed
	trigger = { trait = depressed }
		name = EVTOPTA_santeria_healing
		random_list = { 
		10 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = depressed }
		90 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for stressed
	trigger = { trait = stressed }
		name = EVTOPTA_santeria_healing
		random_list = { 
		10 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = stressed }
		90 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for syphilitic
	trigger = { trait = syphilitic }
		name = EVTOPTA_santeria_healing
		random_list = { 
		5 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = syphilitic }
		95 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for leper
	trigger = { trait = leper }
		name = EVTOPTA_santeria_healing
		random_list = { 
		5 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = leper }
		95 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for wounded
	trigger = { trait = wounded }
		name = EVTOPTA_santeria_healing
		random_list = { 
		30 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = wounded }
		70 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for drunkard
	trigger = { trait = drunkard }
		name = EVTOPTA_santeria_healing
		random_list = { 
		50 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = drunkard }
		50 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for sickly
	trigger = { trait = sickly }
		name = EVTOPTA_santeria_healing
		random_list = { 
		10 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = sickly }
		90 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
	option = {
	# Chances for atom_curse
	trigger = { trait = atom_curse }
		name = EVTOPTA_santeria_healing
		random_list = { 
		1 = { hidden_tooltip = { character_event = { id = santeria.3 } } 
				remove_trait = atom_curse }
		99 = { hidden_tooltip = { character_event = { id = santeria.4 } } }
		}
	
	}
	
}

character_event = {
	# Succesful healing!
	id = santeria.3
	desc = EVTDESC_santeria_healing_success
	picture = GFX_evt_recovery
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_santeria_healing_success
		random_list = {
			34 = { add_trait = zealous }
			33 = { add_trait = humble }
			33 = { piety = 10 }
		}
	}
	
	option = {
		name = EVTOPTB_santeria_healing_success
		wealth=-10
		random_list = {
			34 = { add_trait = kind }
			33 = { add_trait = cynical}
			33 = { prestige = 10 }
		}
	}
	
	
	option = {
		name = EVTOPTC_santeria_healing_success
		piety = -5
		random_list = {
			50 = { add_trait = cynical }
			33 = { add_trait = arbitrary }
			27 = { prestige = -25 }
			}
	}

}

character_event = {
	# Failed healing!
	id = santeria.4
	desc = EVTDESC_santeria_healing_failure
	picture = GFX_evt_illness
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_santeria_healing_failure
		random_list = {
		34 = { piety = 25 }
		33 = { add_trait = humble }
		33 = { add_trait = zealous }
		}
	}
	
	option = {
		name = EVTOPTB_santeria_healing_failure
		random_list = {
		50 = { add_trait = arbitrary }
		50 = { prestige = -25 }
		}
	}
	
	option = {
		name = EVTOPTC_santeria_healing_failure
		random_list = {
		50 = { add_trait = cynical }
		50 = { add_trait = depressed }
		}
	}

}