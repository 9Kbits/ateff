namespace = VSinvestitureFix

character_event = {
	id = VSinvestitureFix.1
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		is_theocracy = yes
		OR = {
			religion = ursuline
			religion = high_church
			religion = strangite
		}
	}
	
	immediate = {
		primary_title = {
			gender_succ = true_cognatic
		}
	}
}

character_event = {
	id = VSinvestitureFix.2
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		is_theocracy = yes
		OR = {
			religion = ursuline
			religion = high_church
			religion = strangite
		}
	}
	
	immediate = {
		k_ursuline = {
			holder_scope = {
				character_event = { id = VSinvestitureFix.3 days = 3} #Give the game time to settle the new Bishop
			}
		}
	}
}

character_event = {
	id = VSinvestitureFix.3
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			any_title = {
				limit = {
					holder_scope = {
						is_theocracy = yes
						OR = {
							religion = ursuline
							religion = high_church
							religion = strangite
						}
					}
				}
				gender_succ = true_cognatic
			}
		}
	}
}
