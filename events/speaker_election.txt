# Events for electing the Speaker
# by Sam

namespace = speaker

# Send out notifications of Speaker death
character_event = {
	id = speaker.1
	desc = "Speaker is dead"
	is_triggered_only = yes
	#hide_window = yes

	trigger = {
		#religion = americanist
		#controls_religion = yes
		has_landed_title = d_americanist
	}
	
	option = {
		name = "Shouldn't see this"
		k_papal_state = { holder_scope = { set_variable = { which = "num_speaker_candidates" value = 0 } } }
		any_independent_ruler = {
			limit = { religion = americanist }
			character_event = { id = speaker.2 }
		}
	}
}

# Announce death of the Speaker
character_event = {
	id = speaker.2
	desc = "speaker.2.desc"
	picture = GFX_evt_bishop

	is_triggered_only = yes
	option = {
		name = "speaker.2.optA" # Run for election
		ai_chance = {
			factor = 1
			modifier = {
				factor = 5
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = zealous
			}
		}
		set_character_flag = running_for_speaker
		k_papal_state = { holder_scope = { change_variable = { which = "num_speaker_candidates" value = 1 } } }
	}
	option = {
		name = "speaker.2.optB" # Don't run
		ai_chance = {
			factor = 2
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 1.5
				trait = cynical
			}
		}
		clr_character_flag = running_for_speaker
		set_character_flag = not_running_for_speaker
	}
}