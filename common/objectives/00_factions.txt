# Faction tags need to start with 'faction_'

# Supported types:
# liege_titles, liege_titles_w_claimant, character

###############
# FACTIONS
###############

# Feudal faction: Desires low CA, low feudal taxes and obligations
faction_feudal_emperor = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		is_feudal = yes 
		is_patrician = no
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = emperor }
		NOT = { liege = { has_character_flag = faction_feudal_war } }
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_feudal_emperor
					NOT = { character = ROOT }
				}
			}
		}		
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }
		modifier = {
			factor = 10
			tier = king
		}
		modifier = {
			factor = 0.1
			tier = count
		}			
		modifier = {
			factor = 0
			ROOT = { NOT = { has_character_flag = faction_feudal_supporter } }
		}
		modifier = {
			factor = 0
			ROOT = { 
				liege = {
					current_heir = {
						character = ROOT
					}
				}
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }		
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_feudal_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}	
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_feudal_king = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}	
		prisoner = no
		is_ruler = yes
		is_feudal = yes 
		is_patrician = no
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = king }
		NOT = { liege = { has_character_flag = faction_feudal_war } }
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_feudal_king
					NOT = { character = ROOT }
				}
			}
		}
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }			
		modifier = {
			factor = 10
			tier = duke
		}			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_feudal_supporter }
		}
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}	
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }		
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_feudal_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_feudal_duke = { #just here for the sake of consistency
	type = character
	
	# Plotter scope
	potential = {	
		always = no
	}
	
	# AI creation weight
	chance = {
		factor = 0		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 0	
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

# Republican faction: Desires low CA and city duties
faction_republican_emperor = {
	type = character
	
	# Plotter scope
	potential = {		
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = yes
			is_republic = yes
		}
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = emperor }
		NOT = { liege = { has_character_flag = faction_republican_war } }	
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_republican_emperor
					NOT = { character = ROOT }
				}
			}
		}
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }		
		modifier = {
			factor = 10
			tier = king
		}
		modifier = {
			factor = 0.1
			tier = count
		}				
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_republican_supporter }
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}			
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {	
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_republican_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}			
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_republican_king = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = yes
			is_republic = yes
		}
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = king }
		NOT = { liege = { has_character_flag = faction_republican_war } }	
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_republican_king
					NOT = { character = ROOT }
				}
			}
		}
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {			
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }			
		modifier = {
			factor = 10
			tier = duke
		}			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_republican_supporter }
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}			
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_republican_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_republican_duke = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = yes
			is_republic = yes
		}
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = duke }
		NOT = { liege = { has_character_flag = faction_republican_war } }	
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_republican_duke
					NOT = { character = ROOT }
				}
			}
		}
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_republican_supporter }
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_republican_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}			
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

# Religious faction: Desires pious ruler, holy wars
faction_religious_emperor = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = emperor }
		liege = { religion = ROOT }
		NOT = { liege = { has_character_flag = faction_religious_war } }
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_religious_emperor
					NOT = { character = ROOT }
				}
			}
		}	
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }
		modifier = {
			factor = 10
			tier = king
		}
		modifier = {
			factor = 0.1
			tier = count
		}			
		modifier = {
			factor = 0
			ROOT = { NOT = { has_character_flag = faction_religious_supporter } }
		}
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 0
			ROOT = { NOT = { has_character_flag = faction_religious_supporter } }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}	
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_religious_king = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = king }
		liege = { religion = ROOT }
		NOT = { liege = { has_character_flag = faction_religious_war } }
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_religious_king
					NOT = { character = ROOT }
				}
			}
		}
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }		
		modifier = {
			factor = 10
			tier = duke
		}			
		modifier = {
			factor = 0
			ROOT = { NOT = { has_character_flag = faction_religious_supporter } }
		}
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 0
			ROOT = { NOT = { has_character_flag = faction_religious_supporter } }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}	
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_religious_duke = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = duke }
		liege = { religion = ROOT }
		NOT = { liege = { has_character_flag = faction_religious_war } }
		age = 16
		NOT = { trait = incapable }
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_religious_duke
					NOT = { character = ROOT }
				}
			}
		}
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }		
		modifier = {
			factor = 0
			ROOT = { NOT = { has_character_flag = faction_religious_supporter } }
		}
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 0
			ROOT = { NOT = { has_character_flag = faction_religious_supporter } }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}	
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}


# Court faction: Desires positions at court and honors from the monarch
faction_court_emperor = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = emperor }
		NOT = { liege = { has_character_flag = faction_court_war } }	
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_court_emperor
					NOT = { character = ROOT }
				}
			}
		}	
		OR = {
			is_feudal = yes
			liege = { is_feudal = no }
		}
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 10
			tier = king
		}
		modifier = {
			factor = 0.1
			tier = count
		}			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_court_supporter }
		}
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_court_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_court_king = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = king }
		NOT = { liege = { has_character_flag = faction_court_war } }	
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_court_king
					NOT = { character = ROOT }
				}
			}
		}	
		OR = {
			is_feudal = yes
			liege = { is_feudal = no }
		}		
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 10
			tier = duke
		}			
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_court_supporter }
		}
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_court_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

faction_court_duke = {
	type = character
	
	# Plotter scope
	potential = {	
		OR = {
			NOT = { has_character_flag = former_faction_leader }
			had_character_flag = {
				flag = former_faction_leader
				days = 7
			}
		}
		prisoner = no
		is_ruler = yes
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		liege = { NOT = { character = ROOT } }
		liege = { tier = duke }
		NOT = { liege = { has_character_flag = faction_court_war } }	
		NOT = {
			liege = {
				any_vassal = {
					leads_faction = faction_court_duke
					NOT = { character = ROOT }
				}
			}
		}
		OR = {
			is_feudal = yes
			liege = { is_feudal = no }
		}		
	}
	
	# AI creation weight
	chance = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_court_supporter }
		}
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}		
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 100
		modifier = {
			factor = 0
			controls_religion = yes
		}
		# modifier = {
			# factor = 0
			# OR = {		
				# NOT = { liege = { culture_group = PREV } }
				# NOT = { liege = { religion_group = PREV } }
			# }
		# }	
		modifier = {
			factor = 0
			NOT = { has_character_flag = faction_court_supporter }
		}
		modifier = {
			factor = 0
			prisoner = yes
		}		
		modifier = {
			factor = 0
			liege = {
				current_heir = {
					character = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}
	}
	
	success = {	
		always = no
	}
	
	abort = {
		always = no
	}
	
	abort_effect = {
	}
	
	effect = {
	}
}

# Separatist faction, forms purely for the purpose of waging an independence war
# Disabled for now


# Faction supports claimant to the throne
faction_pretender = {
	type = liege_titles_w_claimant # 'new_character' is a Claimant, or, if the title is Elective, anyone eligible for election
	exclusive = yes # Can only lead or be in one faction of this type
	
	# Plotter scope
	potential = {
		is_ruler = yes
		OR = {
			is_patrician = no
			is_merchant_republic = yes
		}		
		independent = no
		is_landed = yes
		prisoner = no
		age = 16
		NOT = { trait = incapable }
		liege = {
			is_feudal = yes 
		}
	}
	
	# Target scope
	allow = {
		is_primary_holder_title_tier = yes
		OR = {
			is_primary_holder_title = yes
			FROM = { 
				primary_title = {
					OR = {	
						dejure_liege_title = { title = PREVPREVPREV }
						kingdom = { title = PREVPREVPREV }
						empire = { title = PREVPREVPREV }
					}
				}
			}
		}
		new_character = { prisoner = no }
		NOT = {
			new_character = {
				ROOT = {
					holder_scope = {
						character = PREVPREV
					}
				}
			}
		}
		NOT = {		
			AND = {
				NOT = { has_law = succ_feudal_elective }
				current_heir = {
					new_character = {
						character = PREV
					}
				}
			}
		}
		new_character = {
			OR = {
				is_ruler = no
				is_feudal = yes
			}
		}
		OR = {
			new_character = { is_female = no }
			NOT = { has_law = agnatic_succession }
		}
		OR = {
			NOT = { has_law = succ_feudal_elective }
			new_character = { is_ruler = no }
			new_character = {
				primary_title = {
					OR = {
						empire = { title = PREVPREVPREV }
						kingdom = { title = PREVPREVPREV }
						dejure_liege_title = { title = PREVPREVPREV }
					}
				}
			}
		}
	}
	
	# AI creation weight
	chance = {
		factor = 1
		modifier = {
			factor = 0.2
			always = yes
		}
		modifier = {
			factor = 0.1
			NOT = { is_primary_holder_title = yes }
		}
		modifier = {
			factor = 0
			FROM = { controls_religion = yes }
		}	
		modifier = {
			factor = 0
			FROM = { 
				OR = {
					trait = incapable
					NOT = { age = 16 }
				}
			}
		}
		modifier = {
			factor = 0
			FROM = { 
				liege = {
					current_heir = {
						character = FROM
					}
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				NOT = { FROM = { liege = { culture_group = FROM } } }
				NOT = { FROM = { liege = { religion_group = FROM } } }
			}
			FROM = { opinion = { who = liege value = 25 } }
		}
		modifier = {
			factor = 0
			OR = {
				NOT = { FROM = { liege = { culture_group = FROM } } }
				NOT = { FROM = { liege = { religion_group = FROM } } }
			}
			FROM = { 
				opinion = { who = liege value = 0 } 
				NOT = {
					trait = proud
					trait = ambitious
					trait = envious
					trait = brave
				}				
			}			
		}	
		modifier = {
			factor = 0
			NOT = { new_character = { character = FROM } }
			FROM = { liege = { culture_group = PREV } }
			FROM = { liege = { religion_group = PREV } }		
			FROM = { 
				NOT = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke	
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke						
						AND = {
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke							
							}
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_feudal_emperor
									leads_faction = faction_feudal_king
									leads_faction = faction_feudal_duke							
								}
							}
						}
						AND = {
							OR = {
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke							
							}
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_republican_emperor
									leads_faction = faction_republican_king
									leads_faction = faction_republican_duke							
								}
							}
						}
						AND = {
							OR = {
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke							
							}
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_religious_emperor
									leads_faction = faction_religious_king
									leads_faction = faction_religious_duke							
								}
							}
						}
						AND = {
							OR = {
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke							
							}
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_court_emperor
									leads_faction = faction_court_king
									leads_faction = faction_court_duke							
								}
							}
						}						
					}
				}
			}
		}
		modifier = {
			factor = 0
			NOT = { new_character = { character = FROM } }
			FROM = { liege = { culture_group = PREV } }
			FROM = { liege = { religion_group = PREV } }			
			FROM = { 
				OR = {
					AND = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke							
						}
						liege = {
							NOT = {
								has_character_flag = faction_feudal_unhappy
								has_character_flag = faction_feudal_angry
							}
						}
					}
					AND = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke							
						}
						liege = {
							NOT = {
								has_character_flag = faction_republican_unhappy
								has_character_flag = faction_republican_angry
							}
						}
					}
					AND = {
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke							
						}
						liege = {
							NOT = {
								has_character_flag = faction_religious_unhappy
								has_character_flag = faction_religious_angry
							}
						}
					}					
					AND = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke							
						}
						liege = {
							NOT = {
								has_character_flag = faction_court_unhappy
								has_character_flag = faction_court_angry
							}
						}
					}					
				}
			}
		}
		modifier = {
			factor = 0.25
			NOT = { new_character = { character = FROM } }
			FROM = { liege = { culture_group = PREV } }
			FROM = { liege = { religion_group = PREV } }			
			FROM = { 
				OR = {
					AND = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke							
						}
						liege = {
							has_character_flag = faction_feudal_unhappy
						}
					}
					AND = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke							
						}
						liege = {
							has_character_flag = faction_feudal_unhappy
						}
					}
					AND = {
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke							
						}
						liege = {
							has_character_flag = faction_feudal_unhappy
						}
					}					
					AND = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke							
						}
						liege = {
							has_character_flag = faction_feudal_unhappy
						}
					}					
				}
			}
		}
		modifier = {
			factor = 3
			holder_scope = { regent = { is_alive = yes } }
		}
		modifier = {
			factor = 10
			new_character = { character = FROM }
		}		
		modifier = {
			factor = 3
			FROM = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke						
				}			
			}
		}
		modifier = {
			factor = 2
			FROM = { 
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke							
				}
				liege = { trait = excommunicated }
			}
		}	
		modifier = {
			factor = 0.5
			FROM = { 
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke							
				}
				liege = { NOT = { trait = excommunicated } }
			}
		}		
		modifier = {
			factor = 0.25
			FROM = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke							
				}			
			}
		}		
		modifier = {
			factor = 0
			NOT = { new_character = { character = FROM } }
			new_character = {
				NOT = { culture_group = FROM }
			}
		}		
		modifier = {
			factor = 0.5
			NOT = { new_character = { character = FROM } }
			new_character = {
				NOT = { culture = FROM }
			}
		}
		modifier = {
			factor = 0
			NOT = { new_character = { character = FROM } }
			new_character = {
				NOT = { religion = FROM }
			}
		}
		modifier = {
			factor = 0.1
			NOT = { new_character = { character = FROM } }
			NOT = {
				new_character = {
					FROM = {
						opinion_diff = {
							first = PREV
							second = LIEGE
							value = 10 # I don't like the pretender enough
							as_if_liege = yes
						}
					}
				}
			}
		}	
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			new_character = {
				FROM = {
					opinion_diff = {
						first = PREV
						second = LIEGE
						value = 25
						as_if_liege = yes
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			new_character = {
				FROM = {
					opinion_diff = {
						first = PREV
						second = LIEGE
						value = 50
						as_if_liege = yes
					}
				}
			}
		}	
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			new_character = {
				FROM = {
					opinion_diff = {
						first = PREV
						second = LIEGE
						value = 75
						as_if_liege = yes
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			new_character = {
				FROM = {
					opinion_diff = {
						first = PREV
						second = LIEGE
						value = 100
						as_if_liege = yes
					}
				}
			}
		}		
		modifier = {
			factor = 0
			NOT = { new_character = { character = FROM } }
			FROM = {
				liege = {
					new_character = {
						opinion = {
							who = PREV
							value = 50
						}
					}	
				}
			}
		}
		modifier = {
			factor = 0.25
			NOT = { new_character = { character = FROM } }
			FROM = {
				liege = {
					new_character = {
						opinion = {
							who = PREV
							value = 25
						}
					}	
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			FROM = {
				liege = {
					new_character = {
						NOT = {
							opinion = {
								who = PREV
								value = 0
							}
						}
					}	
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			FROM = {
				liege = {
					new_character = {
						NOT = {
							opinion = {
								who = PREV
								value = -25
							}
						}
					}	
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			FROM = {
				liege = {
					new_character = {
						NOT = {
							opinion = {
								who = PREV
								value = -50
							}
						}
					}	
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { new_character = { character = FROM } }
			FROM = {
				liege = {
					new_character = {
						NOT = {
							opinion = {
								who = PREV
								value = -75
							}
						}
					}	
				}
			}
		}	
		modifier = {
			factor = 0.5
			new_character = { is_female = yes }
			NOT = { has_law = true_cognatic_succession }
			NOT = { has_global_flag = gender_equality }
		}
		modifier = {
			factor = 3.0
			new_character = { character = FROM }
			FROM = { trait = ambitious }
		}		
		modifier = {
			factor = 0
			new_character = { character = FROM }
			FROM = { trait = content }
		}
		modifier = {
			factor = 0
			new_character = { character = FROM }
			FROM = { liege = { culture_group = PREV } }
			FROM = { liege = { religion_group = PREV } }				
			FROM = {
				opinion = {
					who = liege
					value = -50
				}
				NOT = {
					OR = {
						AND = {
							OR = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_feudal_unhappy
									has_character_flag = faction_feudal_angry
								}
							}
						}
						AND = {
							OR = {
								leads_faction = faction_republican_emperor
								leads_faction = faction_republican_king
								leads_faction = faction_republican_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_republican_unhappy
									has_character_flag = faction_republican_angry
								}
							}
						}
						AND = {
							OR = {
								leads_faction = faction_religious_emperor
								leads_faction = faction_religious_king
								leads_faction = faction_religious_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_religious_unhappy
									has_character_flag = faction_religious_angry
								}
							}
						}					
						AND = {
							OR = {
								leads_faction = faction_court_emperor
								leads_faction = faction_court_king
								leads_faction = faction_court_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_court_unhappy
									has_character_flag = faction_court_angry
								}
							}
						}					
					}
				}
			}				
		}
		modifier = {
			factor = 0
			new_character = { character = FROM }
			FROM = {
				opinion = {
					who = liege
					value = -25
				}
				NOT = {
					OR = {
						AND = {
							OR = {
								leads_faction = faction_feudal_emperor
								leads_faction = faction_feudal_king
								leads_faction = faction_feudal_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_feudal_angry
								}
							}
						}
						AND = {
							OR = {
								leads_faction = faction_republican_emperor
								leads_faction = faction_republican_king
								leads_faction = faction_republican_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_republican_angry
								}
							}
						}
						AND = {
							OR = {
								leads_faction = faction_religious_emperor
								leads_faction = faction_religious_king
								leads_faction = faction_religious_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_religious_angry
								}
							}
						}					
						AND = {
							OR = {
								leads_faction = faction_court_emperor
								leads_faction = faction_court_king
								leads_faction = faction_court_duke							
							}
							liege = {
								NOT = {
									has_character_flag = faction_court_angry
								}
							}
						}					
					}
				}
			}				
		}	
	}
	
	# AI membership weight: ROOT is the prospective member. FROM is the faction leader. FROMFROM is the target title or character.
	membership = {
		factor = 1			
		modifier = {
			factor = 0
			controls_religion = yes
		}	
		modifier = {
			factor = 0
			OR = {
				trait = incapable
				NOT = { age = 16 }
			}
		}
		modifier = {
			factor = 0
			ROOT = { 
				liege = {
					current_heir = {
						character = ROOT
					}
				}
			}
		}				
		modifier = {
			factor = 0
			FROMFROM = { is_conquered = yes }
			FROM = { 
				supported_claimant = {			
					NOT = { culture = ROOT }
				} 
			}
		}				
		modifier = {
			factor = 0
			prisoner = yes
		}
		#different culture group: uses another calc
		modifier = {
			factor = 100
			OR = {
				NOT = { liege = { culture_group = ROOT } }
				NOT = { liege = { religion_group = ROOT } }
			}
			FROM = { 
				supported_claimant = {
					culture = ROOT
					religion = ROOT
				}
			}
		}			
		modifier = {
			factor = 0
			OR = {
				NOT = { liege = { culture_group = ROOT } }
				NOT = { liege = { religion_group = ROOT } }
			}
			opinion = { who = liege value = 25 }
		}
		modifier = {
			factor = 0
			OR = {
				NOT = { liege = { culture_group = ROOT } }
				NOT = { liege = { religion_group = ROOT } }
			}
			ROOT = { 
				opinion = { who = liege value = 0 } 
				NOT = {
					trait = proud
					trait = ambitious
					trait = envious
					trait = brave
				}				
			}			
		}		
		modifier = {
			factor = 0
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			liege = { culture_group = ROOT }
			liege = { religion_group = ROOT }			
			ROOT = { 
				NOT = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke	
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke						
						AND = {
							OR = {
								in_faction = faction_feudal_emperor
								in_faction = faction_feudal_king
								in_faction = faction_feudal_duke							
							}
							FROM = {	
								OR = {
									leads_faction = faction_feudal_emperor
									leads_faction = faction_feudal_king
									leads_faction = faction_feudal_duke
									any_faction_backer = {
										faction = faction_pretender
										OR = {
											leads_faction = faction_feudal_emperor
											leads_faction = faction_feudal_king
											leads_faction = faction_feudal_duke								
										}
									}
								}
								OR = {
									ai = yes
									liege = { has_character_flag = faction_feudal_angry }
								}								
							}
						}
						AND = {
							OR = {
								in_faction = faction_republican_emperor
								in_faction = faction_republican_king
								in_faction = faction_republican_duke							
							}
							FROM = {
								OR = {
									leads_faction = faction_republican_emperor
									leads_faction = faction_republican_king
									leads_faction = faction_republican_duke
									any_faction_backer = {
										faction = faction_pretender
										OR = {
											leads_faction = faction_republican_emperor
											leads_faction = faction_republican_king
											leads_faction = faction_republican_duke								
										}
									}									
								}
								OR = {
									ai = yes
									liege = { has_character_flag = faction_republican_angry }
								}								
							}
						}
						AND = {
							OR = {
								in_faction = faction_religious_emperor
								in_faction = faction_religious_king
								in_faction = faction_religious_duke							
							}
							FROM = {
								OR = {
									leads_faction = faction_religious_emperor
									leads_faction = faction_religious_king
									leads_faction = faction_religious_duke
									any_faction_backer = {
										faction = faction_pretender
										OR = {
											leads_faction = faction_religious_emperor
											leads_faction = faction_religious_king
											leads_faction = faction_religious_duke								
										}
									}								
								}
								OR = {
									ai = yes
									liege = { has_character_flag = faction_religious_angry }
								}									
							}
						}
						AND = {
							OR = {
								in_faction = faction_court_emperor
								in_faction = faction_court_king
								in_faction = faction_court_duke							
							}
							FROM = {
								OR = {
									leads_faction = faction_court_emperor
									leads_faction = faction_court_king
									leads_faction = faction_court_duke
									any_faction_backer = {
										faction = faction_pretender
										OR = {
											leads_faction = faction_court_emperor
											leads_faction = faction_court_king
											leads_faction = faction_court_duke								
										}
									}								
								}
								OR = {
									ai = yes
									liege = { has_character_flag = faction_court_angry }
								}									
							}
						}							
					}
				}
			}
		}
		modifier = {
			factor = 100
			OR = {
				FROM = { supported_claimant = { character = ROOT } }
				AND = {
					OR = {
						in_faction = faction_feudal_emperor
						in_faction = faction_feudal_king
						in_faction = faction_feudal_duke							
					}
					FROM = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_feudal_emperor
									leads_faction = faction_feudal_king
									leads_faction = faction_feudal_duke								
								}
							}						
						}
						OR = {
							ai = yes
							liege = { has_character_flag = faction_feudal_angry }
						}							
					}
				}
				AND = {
					OR = {
						in_faction = faction_republican_emperor
						in_faction = faction_republican_king
						in_faction = faction_republican_duke							
					}
					FROM = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_republican_emperor
									leads_faction = faction_republican_king
									leads_faction = faction_republican_duke								
								}
							}						
						}
						OR = {
							ai = yes
							liege = { has_character_flag = faction_republican_angry }
						}							
					}
				}
				AND = {
					OR = {
						in_faction = faction_religious_emperor
						in_faction = faction_religious_king
						in_faction = faction_religious_duke							
					}
					FROM = {
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_religious_emperor
									leads_faction = faction_religious_king
									leads_faction = faction_religious_duke								
								}
							}
						}
						OR = {
							ai = yes
							liege = { has_character_flag = faction_religious_angry }
						}							
					}
				}
				AND = {
					OR = {
						in_faction = faction_court_emperor
						in_faction = faction_court_king
						in_faction = faction_court_duke							
					}
					FROM = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke
							any_faction_backer = {
								faction = faction_pretender
								OR = {
									leads_faction = faction_court_emperor
									leads_faction = faction_court_king
									leads_faction = faction_court_duke								
								}
							}
						}
						OR = {
							ai = yes
							liege = { has_character_flag = faction_court_angry }
						}							
					}
				}				
			}
		}
		modifier = {
			factor = 0
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			liege = { culture_group = ROOT }
			liege = { religion_group = ROOT }			
			OR = {
				AND = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke							
					}
					liege = {
						NOT = {
							has_character_flag = faction_feudal_unhappy
							has_character_flag = faction_feudal_angry
						}
					}
				}
				AND = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke							
					}
					liege = {
						NOT = {
							has_character_flag = faction_republican_unhappy
							has_character_flag = faction_republican_angry
						}
					}
				}
				AND = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke							
					}
					liege = {
						NOT = {
							has_character_flag = faction_religious_unhappy
							has_character_flag = faction_religious_angry
						}
					}
				}					
				AND = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke							
					}
					liege = {
						NOT = {
							has_character_flag = faction_court_unhappy
							has_character_flag = faction_court_angry
						}
					}
				}					
			}
		}
		modifier = {
			factor = 0.25
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			liege = { culture_group = ROOT }
			liege = { religion_group = ROOT }			
			OR = {
				AND = {
					OR = {
						leads_faction = faction_feudal_emperor
						leads_faction = faction_feudal_king
						leads_faction = faction_feudal_duke							
					}
					liege = {
						has_character_flag = faction_feudal_unhappy
					}
				}
				AND = {
					OR = {
						leads_faction = faction_republican_emperor
						leads_faction = faction_republican_king
						leads_faction = faction_republican_duke							
					}
					liege = {
						has_character_flag = faction_feudal_unhappy
					}
				}
				AND = {
					OR = {
						leads_faction = faction_religious_emperor
						leads_faction = faction_religious_king
						leads_faction = faction_religious_duke							
					}
					liege = {
						has_character_flag = faction_feudal_unhappy
					}
				}					
				AND = {
					OR = {
						leads_faction = faction_court_emperor
						leads_faction = faction_court_king
						leads_faction = faction_court_duke							
					}
					liege = {
						has_character_flag = faction_feudal_unhappy
					}
				}					
			}
		}
		modifier = {
			factor = 3
			FROMFROM = { holder_scope = { regent = { is_alive = yes } } }
		}		
		modifier = {
			factor = 3
			FROM = {
				OR = {
					leads_faction = faction_court_emperor
					leads_faction = faction_court_king
					leads_faction = faction_court_duke						
				}			
			}
		}
		modifier = {
			factor = 2
			FROM = { 
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke							
				}
				liege = { trait = excommunicated }
			}
		}	
		modifier = {
			factor = 0.5
			FROM = { 
				OR = {
					leads_faction = faction_religious_emperor
					leads_faction = faction_religious_king
					leads_faction = faction_religious_duke							
				}
				liege = { NOT = { trait = excommunicated } }
			}
		}		
		modifier = {
			factor = 0.25
			FROM = {
				OR = {
					leads_faction = faction_republican_emperor
					leads_faction = faction_republican_king
					leads_faction = faction_republican_duke							
				}			
			}
		}	
		modifier = {
			factor = 0
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			FROM = { 
				supported_claimant = {
					NOT = { culture_group = ROOT }
				}
			}
		}		
		modifier = {
			factor = 0.5
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			FROM = { 
				supported_claimant = {
					NOT = { culture = ROOT }
				}
			}
		}
		modifier = {
			factor = 0
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			FROM = { 
				supported_claimant = {
					NOT = { religion = ROOT }
				}
			}
		}
		modifier = {
			factor = 0.1
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			NOT = {
				FROM = { 
					supported_claimant = {
						ROOT = {
							opinion_diff = {
								first = PREV
								second = LIEGE
								value = 10
								as_if_liege = yes
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			FROM = { 
				supported_claimant = {
					ROOT = {
						opinion_diff = {
							first = PREV
							second = LIEGE
							value = 25
							as_if_liege = yes
						}
					}
				}
			}
		}	
		modifier = {
			factor = 1.5
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			FROM = { 
				supported_claimant = {
					ROOT = {
						opinion_diff = {
							first = PREV
							second = LIEGE
							value = 50
							as_if_liege = yes
						}
					}
				}
			}
		}		
		modifier = {
			factor = 1.5
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			FROM = { 
				supported_claimant = {
					ROOT = {
						opinion_diff = {
							first = PREV
							second = LIEGE
							value = 75
							as_if_liege = yes
						}
					}
				}
			}
		}	
		modifier = {
			factor = 1.5
			NOT = { FROM = { supported_claimant = { character = ROOT } } }
			FROM = { 
				supported_claimant = {
					ROOT = {
						opinion_diff = {
							first = PREV
							second = LIEGE
							value = 100
							as_if_liege = yes
						}
					}
				}
			}
		}	
		modifier = {
			factor = 0.5
			FROM = { supported_claimant = { is_female = yes } }
			NOT = { FROMFROM = { has_law = true_cognatic_succession } }
			NOT = { has_global_flag = gender_equality }
		}	
	}
	
	success = {
		always = no
	}
	
	abort = {
		always = no	
	}
	
	abort_effect = {
	}
	
	effect = {
	}		
}