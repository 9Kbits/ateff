
namespace = americanist_crusade

# AMERICANIST FILIBUSTER
# Called from 'on_crusade_creation'
# new_character is the targetted enemy
# ROOT is the religious head
# FROM is the attacked kingdom title
narrative_event = {
	id = americanist_crusade.1
	title = EVTNAME200
	picture = GFX_evt_americanist_filibuster
	border = GFX_event_narrative_frame_war
	
	desc = {
		text = EVTDESC_filibuster
		trigger = {
			OR = {
				new_character = {
					NOT = { religion_group = christian }
					NOT = { religion_group = pagan_group }
				}
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
	}
	desc = {
		text = EVTDESC_filibuster_pagan
		trigger = {
			new_character = {
				religion_group = pagan_group
			}
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
	}
	desc = {
		text = EVTDESC_filibuster_christ
		trigger = {
			new_character = {
				religion_group = christian
			}
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
	}

	is_triggered_only = yes
	major = yes
	show_ROOT = yes
	hide_new = yes
	
	trigger = {
		can_call_crusade = yes
		ROOT = { 
			religion = americanist
		}
	}

	option = {
		name = EVTOPTA324 # For [God Name]!
		trigger = { religion = ROOT }
	}
	option = {
		name = EVTOPTB200 # No concern of ours
		trigger = {
			NOT = { religion = ROOT }
			new_character = {
				NOT = { religion = PREV }
				NOT = { character = PREV }
			}
		}
	}
	option = {
		name = EVTOPTD200 # To Arms!
		trigger = {
			new_character = {
				character = PREV
			}
		}
	}
	option = {
		name = EVTOPTE200 # Terrible News!
		trigger = {
			new_character = {
				religion = PREV
				NOT = { character = PREV }
			}
		}
	}
}

narrative_event = {
	id = americanist_crusade.2
	title = EVTNAME_filibuster
	desc = EVTDESC_filibuster_2
	picture = GFX_evt_americanist_filibuster
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	show_ROOT = yes
	hide_new = yes
	
	only_playable = yes
	min_age = 16

	religion = americanist
	
	trigger = {
		NOT = { #immersion-breaking
			has_alternate_start_parameter = { key = religion_names value = random }
		}
		religion = americanist
		controls_religion = yes
		year = 2675
		
		NOT = { has_global_flag = liberation_wars_unlocked }
	}
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = liberation_wars_unlocked
	}
	
	option = {
		name = EVTOPTA_filibuster_2
		trigger = {
			religion_openly_americanist_or_heresy_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTB_filibuster_2
		trigger = {
			NOT = { religion_openly_americanist_or_heresy_trigger = yes }
		}
	}
}

narrative_event = {
	id = americanist_crusade.3
	title = EVTNAME_filibuster
	desc = EVTDESC_filibuster_3
	picture = GFX_evt_americanist_filibuster
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	show_ROOT = yes
	hide_new = yes
	
	only_playable = yes
	min_age = 16

	religion = americanist
	
	trigger = {
		NOT = { #immersion-breaking
			has_alternate_start_parameter = { key = religion_names value = random }
		}
		religion = americanist
		controls_religion = yes
		NOT = { has_global_flag = liberation_wars_unlocked }

		calc_true_if = { 
			amount = 2
			AND = {
				3 = { # manhattan
					owner = {
						NOT = { religion_openly_americanist_or_heresy_trigger = yes }
					}
				}
			}
			AND = {
				27 = { # philadelphia
					owner = {
						NOT = { religion_openly_americanist_or_heresy_trigger = yes }
					}
				}
			}
			AND = {
				383 = { # rushmore
					owner = {
						NOT = { religion_openly_americanist_or_heresy_trigger = yes }
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		set_global_flag = liberation_wars_unlocked
	}
	
	option = {
		name = EVTOPTA_filibuster_2
		trigger = {
			religion_openly_americanist_or_heresy_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTB_filibuster_2
		trigger = {
			NOT = { religion_openly_americanist_or_heresy_trigger = yes }
		}
	}
}

narrative_event = {
	id = americanist_crusade.4
	title = EVTNAME_filibuster
	desc = EVTDESC_filibuster_4
	picture = GFX_evt_americanist_filibuster
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	show_ROOT = yes
	hide_new = yes

	religion = americanist
	
	only_playable = yes
	min_age = 16
	
	trigger = {
		NOT = { #immersion-breaking
			has_alternate_start_parameter = { key = religion_names value = random }
		}
		religion = americanist
		controls_religion = yes
		NOT = { has_global_flag = liberation_wars_unlocked }
		
		63 = { # DC
			owner = {
				NOT = { religion_openly_americanist_or_heresy_trigger = yes }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		set_global_flag = liberation_wars_unlocked
	}
	
	option = {
		name = EVTOPTA_filibuster_2
		trigger = {
			religion_openly_americanist_or_heresy_trigger = yes
		}
	}
	
	option = {
		name = EVTOPTB_filibuster_2
		trigger = {
			NOT = { religion_openly_americanist_or_heresy_trigger = yes }
		}
	}
}